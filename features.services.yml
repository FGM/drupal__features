services:
  plugin.manager.features_assignment_method:
    class: Drupal\features\FeaturesAssignmentMethodManager
    arguments: ['@container.namespaces', '@cache.discovery', '@module_handler']
  plugin.manager.features_generation_method:
    class: Drupal\features\FeaturesGenerationMethodManager
    arguments: ['@container.namespaces', '@cache.discovery', '@module_handler']
  features_assigner:
    class: Drupal\features\FeaturesAssigner
    arguments: ['@features.manager', '@plugin.manager.features_assignment_method', '@config.factory', '@config.storage']
    calls:
      - [initFeaturesManager]
  features_generator:
    class: Drupal\features\FeaturesGenerator
    arguments: ['@features.manager', '@plugin.manager.features_generation_method', '@features_assigner']
    calls:
      - [initFeaturesManager]
  features.manager:
    class: Drupal\features\FeaturesManager
    arguments: ['@entity.manager', '@config.factory', '@config.storage', '@config.manager', '@module_handler']
